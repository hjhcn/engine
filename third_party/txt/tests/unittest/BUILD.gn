# Copyright 2017 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

executable("unittest") {
  output_name = "minikin_unittests"

  testonly = true

  sources = [
    # "WordBreakerTests.cpp",
    "//lib/ftl/test/run_all_unittests.cc",
    "CmapCoverageTest.cpp",
    "EmojiTest.cpp",

    # TODO(abarth): Re-enable once we have wired up SkFontMgr.
    # "FontCollectionItemizeTest.cpp",
    # "FontCollectionTest.cpp",
    # "FontFamilyTest.cpp",
    # "FontLanguageListCacheTest.cpp",
    "GraphemeBreakTests.cpp",

    # "HbFontCacheTest.cpp",
    # "HyphenatorTest.cpp",
    "ICUTestBase.h",

    # "LayoutTest.cpp",
    "LayoutUtilsTest.cpp",
    "MeasurementTests.cpp",
    "SparseBitSetTest.cpp",
    "UnicodeUtilsTest.cpp",
  ]

  defines = [ "kTestFontDir=\"/data/nativetest/minikin_tests/data/\"" ]

  deps = [
    "//lib/txt/libs/minikin",
    "//lib/txt/tests/util",
    "//third_party/gtest",
  ]
}
