# Copyright 2017 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

executable("unittest") {
  output_name = "txt_unittests"

  testonly = true

  sources = [
    "CmapCoverageTest.cpp",
    "EmojiTest.cpp",
    "FontCollectionItemizeTest.cpp",
    "FontCollectionTest.cpp",
    "FontFamilyTest.cpp",
    "FontLanguageListCacheTest.cpp",
    "GraphemeBreakTests.cpp",
    "HbFontCacheTest.cpp",
    "HyphenatorTest.cpp",
    "ICUTestBase.h",
    "LayoutTest.cpp",
    "LayoutUtilsTest.cpp",
    "MeasurementTests.cpp",
    "SparseBitSetTest.cpp",
    "UnicodeUtilsTest.cpp",
    "WordBreakerTests.cpp",
    "//lib/ftl/test/run_all_unittests.cc",
  ]

  defines = [
    "kTestFontDir=\"/data/nativetest/minikin_tests/data/\"",
  ]

  deps = [
    "//lib/txt/tests/util",
    "//lib/txt/libs/minikin",
    "//third_party/gtest",
  ]
}
